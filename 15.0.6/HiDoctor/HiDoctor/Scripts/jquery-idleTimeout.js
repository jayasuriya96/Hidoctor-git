(function (e) { e.fn.idleTimeout = function (t) { var n = { inactivity: 12e5, noconfirm: 6e4, sessionAlive: 12e5, redirect_url: "../Home/SessionExpiry/", click_reset: false, alive_url: "/", logout_url: "../Home/SessionExpiry/", showDialog: false }; var r = e.extend(n, t); var i, s, o; var u = "<div id='modal_pop'><p>You are about to be signed out due to inactivity.</p></div>"; var a = function () { clearTimeout(i); clearTimeout(s); i = setTimeout(f, r.inactivity); if (r.sessionAlive) { clearTimeout(o); o = setTimeout(h, r.sessionAlive) } }; var f = function () { c(); if (r.showDialog) { e(u).dialog({ buttons: { "Stay Logged In": function () { e(this).dialog("close"); c() } }, modal: true, title: "Auto Logout" }) } }; var l = function () { alert(3); if (r.logout_url) { e.get(r.logout_url) } }; var c = function (t) { if (r.alive_url) { e.get(r.alive_url) } }; var h = function () { e.get(r.alive_url); clearTimeout(o); o = setTimeout(h, r.sessionAlive) }; return this.each(function () { obj = e(this); a(); if (r.click_reset) { e(document).bind("click", a) } if (r.sessionAlive) { h() } }) } })(jQuery)